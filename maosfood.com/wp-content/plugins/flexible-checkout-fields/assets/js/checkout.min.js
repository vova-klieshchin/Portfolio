jQuery(document).on("click",".inspire-file-add-button",function(){jQuery(this).parent().find("input[type=file]").click()});jQuery(document).on("click",".inspire-file-delete-button",function(){jQuery(this).parent().find("input[type=file]").val("");jQuery(this).parent().find("input[type=text]").val("");jQuery(this).parent().find(".inspire-file-info").empty();jQuery(this).parent().find(".inspire-file-info").hide();jQuery(this).parent().find(".inspire-file-delete-button").hide();jQuery(this).parent().find(".inspire-file-add-button").show()});jQuery(document).on("change",".inspire-file-file",function(){var g=jQuery(this).parent().attr("id");var a=jQuery("#"+g).find(".inspire-file-info");var f=jQuery("#"+g).find(".inspire-file-error");var c=jQuery("#"+g).find(".inspire-file-add-button");a.empty();f.empty();f.hide();a.show();a.append(words.uploading);jQuery(this).parent().find("input[type=text]").val(jQuery(this).val());c.hide();var e=new FormData();var d=jQuery(this).prop("files")[0];var b=d.name;e.append(jQuery(this).attr("field_name"),d);e.append("action","cf_upload");e.append("inspire_upload_nonce",inspire_upload_nonce);jQuery("#place_order").prop("disabled",true);jQuery.ajax({type:"POST",url:ajaxurl,data:e,contentType:false,processData:false,success:function(h){jQuery("#place_order").prop("disabled",false);if(h!=0){h=JSON.parse(h);if(h.status!="ok"){c.show();a.empty();a.hide();f.empty();f.show();f.append(h.message+"<br/>");jQuery("#"+g).find(".inspire-file-file").val("");jQuery("#"+g).find(".inspire-file").val("")}else{jQuery("#"+g).find(".inspire-file-delete-button").show();f.empty();f.hide();a.empty();a.show();a.append(b+"<br/>")}if(jQuery("#"+g).find(".inspire-file").val()==""){a.empty();f.empty();f.hide()}}}})});